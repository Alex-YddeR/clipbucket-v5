!function(t){var e=function(){this.baseurl=baseurl,this.imageurl="",this.page="/ajax.php",this.loading_img="<img style='vertical-align:middle' src='"+this.imageurl+"/ajax-loader.gif'>",this.loading=this.loading_img+" Loading...",this.download=0,this.total_size=0,this.cur_speed=0,this.status_refesh=1,this.result_page="/actions/file_results.php",this.download_page="/actions/file_downloader.php",this.count=0,this.hasLoaded=!1,this.perc_download=0,this.force_stop=!1,this.remoteObjID="",this.current_menu="",this.collectionID=!1,this.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.ua=navigator.userAgent.toLowerCase(),this.ua.indexOf(" chrome/")>=0||this.ua.indexOf(" firefox/")>=0||this.ua.indexOf(" gecko/"),this.setRemoteId=function(){this.remoteObjID=this.randomString()},this.Confirm_Delete=function(t){confirm("Are you sure you want to delete")&&(document.location=t)},this.Confirm_Uninstall=function(t){confirm("Are you sure you want to uninstall this plugin ?")&&(document.location=t)},this.confirm_it=function(t){return!!confirm(t)},this.reloadImage=function(t,e){(img=document.getElementById(e)).src=t+"?"+Math.random()},this.randomString=function(){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",e="",o=0;o<8;o++){var i=Math.floor(Math.random()*t.length);e+=t.substring(i,i+1)}return e},this.check_remote_url=function(){var t=this,e=$("#remote_file_url").val(),o=$("#remoteUploadBttn"),i=$("#remoteUploadBttnStop");if(this.force_stop=!1,e.match(/^e.g/)||void 0===e||0===e.length)return alert("Please enter file url"),!1;var a=function(){$(".downloadStatusContainer").addClass("hidden"),i.removeAttr("disabled").hide(),o.removeAttr("disabled").show()};o.attr("disabled","disabled");var s=$.ajax({url:t.download_page,type:"POST",data:{file:e,file_name:file_name},dataType:"JSON",beforeSend:function(){t.remoteUploadStatusUpdate();var o=t.getName(e);$("#loading").html("Downloading"),$("#remoteFileName").replaceWith('"'+o+'"')},success:function(e){if(t.force_stop=!0,e.error)return t.force_stop=!0,a(),alert(e.error),!1;a(),$("#loading").html("");var o=e.vid;$.post("/actions/getVideoDetails.php",{file_name:file_name,vid:o},function(t){var e=$("#updateVideoInfoForm").clone();$(e).find("input[name=title]").val(t.title),$(e).find("textarea#desc").val(t.description),$(e).find("input[name='category[]']:first").attr("checked","checked");var i=document.createElement("input");i.name="videoid",i.type="hidden",i.value=o,$(e).append(i),$("#remoteForm").html(""),$(e).removeClass("hidden").attr("id","uploadFormContainer_remote").appendTo("#remoteForm"),$(e).find("form").on({submit:function(t){t.preventDefault();var e=$(this),o=$(e).serialize();o+="&updateVideo=yes",$.ajax({url:"/actions/file_uploader.php",type:"post",data:o,success:function(t){msg=$.parseJSON(t),$("#uploadMessage").removeClass("hidden"),msg.error?$("#uploadMessage").html(msg.error).attr("class","alert alert-danger"):$("#uploadMessage").html(msg.msg).attr("class","alert alert-success"),setTimeout(function(){$("#uploadMessage").addClass("hidden")},5e3)}})}}),$(".formSection h4").on({click:function(t){t.preventDefault(),$(this).find("i").hasClass("glyphicon-chevron-down")?($(this).find("i").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"),$(this).next().toggleClass("hidden")):($(this).find("i").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"),$(this).next().toggleClass("hidden"))}}),$(e).on({submit:function(t){t.preventDefault();var e=$(this).serialize();e+="&updateVideo=yes",$.ajax({url:"/actions/file_uploader.php",type:"post",data:e,dataType:"JSON",success:function(t){$("#uploadMessage").removeClass("hidden"),t.error?$("#uploadMessage").html(t.error).attr("class","alert alert-danger"):$("#uploadMessage").html(t.msg).attr("class","alert alert-success"),setTimeout(function(){$("#uploadMessage").addClass("hidden")},5e3)}}).fail(function(t){console.log(t)})}})},"json")}});$("#remoteUploadBttnStop").click(function(){s.abort(),this.force_stop=!0,$("#loading").html(""),$("#remoteDownloadStatus").hide(),$(this).hide(),$("#remoteUploadBttn").attr("disabled","").show()})},this.remoteUploadStatusUpdate=function(){var t=this;$.ajax({url:t.result_page,type:"POST",data:{file_name:file_name},dataType:"JSON",success:function(e){!1===t.force_stop&&(t.updateProgress(e),setTimeout(function(){t.remoteUploadStatusUpdate()},1e3*t.status_refesh))}})},this.updateProgress=function(t){if(null!=t){var e=(t.downloaded/1048576).toFixed(2),o=(t.total_size/1048576).toFixed(2),i=t.downloaded/t.total_size*100;$("#downloadStatus").find("#downloaded").text(e+" Mb"),$("#downloadStatus").find("#totalSize").text(o+" Mb"),$("#prog_bar").css("width",i+"%")}},this.status_update=function(){var t=this;$.ajax({url:t.result_page,type:"POST",data:{file_name:file_name},dataType:"json",success:function(e){if(e){var o=parseFloat(e.total_size),i=parseFloat(e.downloaded),a=parseFloat(e.total_size_fm),s=parseFloat(e.downloaded_fm),n=parseFloat(e.speed_download),l=parseFloat(e.time_eta_fm),d=parseFloat(e.time_took_fm);if(n/1024/1024>1)var r=Math.round(n/1024/1024)+" Mbps";else var r=Math.round(n/1024)+" Kbps";t.perc_download=Math.round(i/o*100),isNaN(s)?($("#remoteDownloadStatus").show(),$("#prog_bar").html("Loading"),$("#dspeed").html("Loading"),$("#eta").html("Loading"),$("#status").html("Loading")):($("#remoteDownloadStatus").show(),$("#prog_bar").animate({width:t.perc_download+"%"},1e3),$("#prog_bar").html(t.perc_download+"%"),$("#dspeed").html(r),$("#eta").html(l),$("#status").html(s+" of "+a))}var c=1e3*t.status_refesh;t.perc_download>99&&(t.force_stop=!0),t.force_stop?100==t.perc_download&&o>1&&$("#time_took").html("Time Took : "+d):setTimeout(function(){t.status_update()},c)}})},this.upload_file=function(t,e){$.post("/actions/file_downloader.php",{file_url:t,file_name:e},function(t){t?submit_upload_form():alert("No data")},"text")},this.delete_item=function(t,e,o,i){$("#"+t+"-"+e).click(function(){confirm(o)&&(document.location=i)})},this.delete_video=function(t,e,o,i){return delete_item(t,e,o,i)},this.get_video=function(t,e){$(e).css("display","block"),$(e).html(this.loading),$(e).html(this.loading),$.post(page,{mode:t},function(t){$(e).html(t)},"text")},this.getAjaxPhoto=function(t,e){$(e).css("display","block");var o=$(e).html();$.ajax({url:this.page,type:"POST",dataType:"json",data:{mode:"loadAjaxPhotos",photosType:t},beforeSend:function(){$(e).html(this.loading)},success:function(t){t.failed&&$(e).html(o),t.completed&&$(e).html(t.photoBlocks)}})},this.rating_over=function(t,e){"disabled"!=e&&$("#rating_result_container").html(t)},this.rating_out=function(t,e){"disabled"!=e&&$("#rating_result_container").html(t)},this.submit_share_form=function(t,e){$("#share_form_results").css("display","block"),$("#share_form_results").html(this.loading),$.post(page,{mode:"share_object",type:e,users:$("#ShareUsers").val(),message:$("#message").val(),id:$("#objectid").val()},function(t){t?$("#share_form_results").html(t):alert("No data")},"text")},this.flag_object=function(t,e,o){$("#flag_form_result").css("display","block"),$("#flag_form_result").html(this.loading),$.post(page,{mode:"flag_object",type:o,flag_type:$("#"+t+" select option:selected").val(),id:e},function(t){t?($("#flag_form_result").css("display","block"),$("#flag_form_result").html(t)):alert("No data")},"text")},this.slide_up_watch_video=function(t){"block"!=$(".video_action_result_boxes "+t).css("display")&&$(".video_action_result_boxes > *").slideUp()},this.add_to_fav=function(t,e){$("#video_action_result_cont").css("display","block"),$("#video_action_result_cont").html(this.loading),$.post(page,{mode:"add_to_fav",type:t,id:e},function(t){t?($("#video_action_result_cont").css("display","block"),$("#video_action_result_cont").html(t)):alert("No data")},"text")},this.subscriber=function(t,e,o){$("#"+o).css("display","block"),$("#"+o).html(this.loading),$.post(page,{mode:e,subscribe_to:t},function(t){t?($("#"+o).css("display","block"),$("#"+o).html(t)):alert("No data")},"text")},this.add_friend=function(t,e){$("#"+e).css("display","block"),$("#"+e).html(this.loading),$.post(page,{mode:"add_friend",uid:t},function(t){t?($("#"+e).css("display","block"),$("#"+e).html(t)):alert("No data")},"text")},this.block_user=function(t,e){$("#"+e).css("display","block"),$("#"+e).html(this.loading),$.post(page,{mode:"ban_user",user:t},function(t){t?($("#"+e).css("display","block"),$("#"+e).html(t)):alert("No data")},"text")},this.rate_comment=function(t,e,o,i){$.post(page,{mode:"rate_comment",thumb:e,cid:t,type:o,typeid:i},function(e){e?(""!=e.msg&&alert(e.msg),""!=e.rate&&$("#comment_rating_"+t).html(e.rate)):alert("No data")},"json")},this.delete_comment=function(t,e){$.post(page,{mode:"delete_comment",cid:t,type:e},function(e){e?(e.msg&&(alert(e.msg),$("#comment_"+t).fadeOut("slow"),$("#spam_comment_"+t).fadeOut("slow")),e.err&&alert(e.err)):alert("No data")},"json")},this.add_comment_js=function(t,e){$("#add_comment_result").css("display","block"),$("#add_comment_result").html(this.loading),$("#add_comment_button").attr("disabled","disabled");var o=$("#"+t).serialize()+"&mode=add_comment";$.post(page,o,function(t){t?($("#add_comment_button").attr("disabled",""),$("#add_comment_result").css("display","block"),""!=t.err&&$("#add_comment_result").html(t.err),""!=t.msg&&$("#add_comment_result").html(t.msg),t.cid&&get_the_comment(t.cid,"#latest_comment_container")):alert("No data")},"json")},this.get_the_comment=function(t,e){$(e).html(this.loading),$.post(page,{mode:"get_comment",cid:t},function(t){t?($(e).css("display","none"),$(e).html(t).fadeIn("slow")):alert("No data")},"text")},this.add_playlist=function(t,e,o,i){switch($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(this.loading),t){case"add":$.post(page,{mode:"add_playlist",id:e,objtype:i,pid:$("#playlist_id option:selected").val()},function(t){t?(""!=t.err&&($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(t.err)),""!=t.msg&&($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(t.msg),$("#"+o).css("display","none"))):alert("No data")},"json");break;case"new":$.post(page,{mode:"add_new_playlist",id:e,objtype:i,plname:$("#playlist_name").val()},function(t){t?(t.err&&($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(t.err)),t.msg&&($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(t.msg),$("#"+o).css("display","none"))):alert("No data")},"json")}},this.add_quicklist=function(t,e){$(t).attr("src",this.imageurl+"/ajax-loader.gif"),$(t).css("background-position","-200px 200px"),$.post(page,{mode:"quicklist",todo:"add",vid:e},function(e){e?($(t).attr("src",this.imageurl+"/dot.gif"),$(t).css("background-position","-0px -0px"),$(t).removeClass("add_icon"),$(t).addClass("check_icon"),$(t).removeAttr("onClick"),load_quicklist_box()):alert("No data")},"text")},this.remove_quicklist=function(t,e){$.post(page,{mode:"quicklist",todo:"remove",vid:e},function(e){e?($(t).slideUp(),$(t).hide()):alert("No data")},"text")},this.load_quicklist_box=function(){$.post(page,{mode:"getquicklistbox"},function(t){(t=$.trim(t))?($("#quicklist_box").css("display","block"),$("#quicklist_box").html(t),"hide"!=$.cookie("quick_list_box")&&$("#quicklist_cont").css("display","block")):$("#quicklist_box").css("display","none")},"text")},this.clear_quicklist=function(){$.post(page,{mode:"clear_quicklist"},function(t){load_quicklist_box()},"text")},this.quick_show_hide_toggle=function(t){$(t).slideToggle(),"show"==$.cookie("quick_list_box")?set_cookie_secure("quick_list_box","hide"):set_cookie_secure("quick_list_box","show")},this.ini_cookies=function(){$.cookie("quick_list_box")||set_cookie_secure("quick_list_box","show")},this.get_group_info=function(t,e){"none"==$(t).css("display")&&($("#group_info_cont > div").slideUp(),$("#group_info_cont "+t).slideDown(),$(".group_detail_tabs .selected").removeClass("selected"),$(e).addClass("selected"))},this.show_menu=function(e,o){if(t.location.hash&&o)return show_menu(t.location.hash.substr(9),!1),!1;t.location.hash="current_"+e,this.current_menu!=e&&hide_menu(),$("#"+e).show(),this.current_menu=e,$("."+e).addClass("selected")},this.hide_menu=function(){if(""!=this.current_menu)return $("#"+this.current_menu).hide(),$("."+this.current_menu).removeClass("selected"),!0},this.to_reply=function(e){$("#reply_to").val(e),t.location="#add_comment"},this.spam_comment=function(t,e,o){$.post(page,{mode:"spam_comment",cid:t,type:e,typeid:o},function(e){e?(e.msg&&($("#comment_"+t).hide(),$("#spam_comment_"+t).fadeIn("slow")),e.err&&alert(e.err)):alert("No data")},"json")},this.swap_auto_play=function(){"true"==$.cookie("auto_play_playlist")?(set_cookie_secure("auto_play_playlist","false"),t.location=document.location,$("#ap_status").html("off")):(set_cookie_secure("auto_play_playlist","true"),t.location=document.location,$("#ap_status").html("on"))},this.collection_actions=function(t,e,o,i,a,s){switch($(i).css("display","block"),$(i).html(this.loading),e){case"add_new_item":$.post(page,{mode:e,cid:$("#"+t+" #collection").val(),obj_id:o,type:a},function(t){t?(t.msg&&$(i).html(t.msg),t.err&&$(i).html(t.err)):alert("No Data returned")},"json");break;case"remove_collection_item":$("#"+t).hide(),$.post(page,{mode:e,obj_id:o,type:a,cid:s},function(e){e?(e.err&&(alert(e.err),$(i+"_"+o).hide(),$("#"+t+o).show()),e.msg&&($(i).html(e.msg),$("#"+t+"_"+o).slideUp(350))):(alert("No Data Returned"),$(i+"_"+o).hide(),$("#"+t).show())},"json")}return!1},this.openURL=function(t){document.locati=t},this.get_item=function(t,e,o,i,a){var s=$(t).html();$(t).html(this.loading),$.post(page,{mode:"get_item",ci_id:e,cid:o,type:i,direction:a},function(e){e?(construct_url([i,e.cid,e.key]),$("#collectionItemView").html(e.content)):(alert("No "+i+" returned"),$(t).text(s))},"json")},this.construct_url=function(e){var o;"yes"==Seo?(o="#!/item/"+e[0]+"/"+e[1]+"/"+e[2],t.location.hash=o):(o="#!?item="+e[2]+"&type="+e[0]+"&collection="+e[1],t.location.hash=o)},this.onReload_item=function(){var e,o;t.location.hash&&(e=t.location.href,"yes"==Seo?(o=RegExp("/item.+#!")).test(e)&&(e=e.replace(o,""),t.location.href=e):(o=RegExp("\\?item.+#!")).test(e)&&(e=e.replace(o,""),t.location.href=e))},this.pagination=function(t,e,o,i){var a,s=this,n=$(t),l=(n.id,n.parent()),d=n.html();l.attr("id")?a=parent.attr("id"):(l.attr("id","loadMoreParent"),a=l.attr("id")),newCall=$.ajax({url:s.page,type:"post",dataType:"json",data:{mode:"moreItems",page:i,cid:e,type:o},beforeSend:function(){n.removeAttr("onClick"),n.html(s.loading)},success:function(e){e.error?("BUTTON"==t.tagName&&n.attr("disabled","disabled"),n.removeAttr("onClick"),n.html("No more "+o)):($("#collectionItemsList").append(e.content),$("#NewPagination").html(e.pagination),n.html(d))}})},this.ajax_add_collection=function(t){var e,o=$("#"+t.form.id),i=$(t),a=i.html(),s=$("#CollectionResult");e=$.ajax({url:this.page,type:"post",dataType:"json",data:"mode=add_collection&"+o.serialize(),beforeSend:function(){"block"==s.css("display")&&s.slideUp("fast"),i.attr("disabled","disabled"),i.html(this.loading)},success:function(t){t.msg?($("#CollectionDIV").slideUp("fast"),s.html(t.msg).slideDown("fast"),this.collectionID=t.id):(s.html(t.err).slideDown("fast"),i.removeAttr("disabled"),i.html(a))}})},this.getDetails=function(t){var e=getInputs(t),o=Array(e.length);return $.each(e,function(t,e){query=$("#"+e.id+" *").serialize(),query+="&mode=ajaxPhotos",o[t]=query}),o},this.getName=function(t){var e=t;return e.substring(e.lastIndexOf("/")+1)},this.viewRatings=function(t,e){var o=$(t),i=o.html();document.getElementById("RatingStatContainer")?$("#RatingStatContainer").toggle():loadAjax=$.ajax({url:page,type:"post",dataType:"text",data:{mode:"viewPhotoRating",photoid:e},beforeSend:function(){o.html(this.loading)},success:function(t){o.html(i),t?$("<div />").attr("id","RatingStatContainer").addClass("clearfix").css({padding:"8px",font:"normal 11px Tahoma",border:"1px solid #ccc",backgroundColor:"#FFF"}).html(t).fadeIn(350).insertAfter(o):(o.removeAttr("onclick"),alert("Photo has not recieved any rating yet."))}})},this.showAdvanceSearch=function(t,e,o,i){$("#"+t);var a=$("#"+e),s=$("#SearchType").val();a.toggle(),"block"==a.css("display")&&a.children().hide().filter("#"+s).show(),$("."+o).toggleClass(i)},this.toggleCategory=function(t,e){var o=$(t),i=o.attr("alt"),a=$("#"+i),s=i.split("_")[0],n=$.browser.msie,l=$.browser.version;"none"==a.css("display")?(a.slideDown(350),n&&"7.0"==l&&a.addClass("internetExplorer7CategoryToggleFix"),set_cookie_secure(s,"expanded"),o.removeClass("none").addClass("block")):(a.slideUp(350),n&&"7.0"==l&&a.removeClass("internetExplorer7CategoryToggleFix"),set_cookie_secure(s,"collapsed"),o.removeClass("block").addClass("none"))},this.loadObject=function(t,e,o,i){var a=[,,,,];a.this=t,a.type=e,a.objID=o,a.container=i;var s=$(a.this);s.parent().css("position","relative"),$.ajax({url:this.page,type:"POST",dataType:"json",data:{mode:"channelFeatured",contentType:a.type,objID:a.objID},beforeSend:function(){s.find("img").animate({opacity:.5}),$("#"+a.container).animate({opacity:.5})},success:function(t){t.error?(s.find("img").animate({opacity:1}),$("#"+a.container).animate({opacity:1}),alert(t.error)):(s.parent().children(".selected").removeClass("selected"),s.addClass("selected"),s.find("img").animate({opacity:1}),$("#"+a.container).html(t.data),$("#"+a.container).animate({opacity:1}))}})},this.getComments=function(t,e,o,i,a,s,n){alert("ASD"),$("#comments").html("<div style='padding:5px 0px;'>"+this.loading+"</div>"),$.ajax({type:"POST",url:this.page,data:{mode:"getComments",page:i,type:t,type_id:e,object_type:s,last_update:o,total_comments:a,comments_voting:"no",admin:n},success:function(t){$("#comments").hide(),$("#comments").html(t),$("#comments").fadeIn("slow")},dataType:"text"})},this.checkUncheckAll=function(t){var e=theElemeform,o=0;for(o=0;o<e.length;o++)"checkbox"==e[o].type&&"checkall"!=e[o].name&&(e[o].checked=t.checked)},this.rate=function(t,e,o){$.post("/ajax.php",{mode:"rating",id:t,rating:e,type:o},function(t){t?$("#rating_container").html(t):alert("No data")},"text")},this.setPageHash=function(e){var o=e.replace(this.baseurl,"");t.location.hash.replace("#!",""),t.location.hash="#!"+o},this.callURLParser=function(){var e,o=t.location.href.match(/(\#![/a-zA-Z0-9=\.\&\-\_\?]*)/g);o&&(e=o[o.length-1])&&(t.location.href=this.lastVisited.replace("#!",""))},this.groupsAjax=function(t,e,o){t.preventDefault();var i,a,s,n=!1;if(void 0==o&&(o="ajaxGroupResultContainer"),e.href?(i=e.href,n=!0,jqueryObj=$(e),javaObj=e):(i=e.childNodes[0].href,jqueryObj=$(e.childNodes[0]),javaObj=e.childNodes[0]),"undefined"==i)return alert("URL not found"),!1;a=jqueryObj.html(),setPageHash(i),!0==n?((s=jqueryObj.parent().parent()).children().filter(".selected").removeClass("selected"),jqueryObj.parent().addClass("selected")):((s=jqueryObj.parent()).children().filter(".selected").removeClass("selected"),jqueryObj.addClass("selected")),jqueryObj.html(this.loading_img),$("#"+o).on("load",i+" #"+o,function(t,e,o){jqueryObj.html(a),document.getElementById("flag_item")&&$("#flag_item").show()})},this.encode64=function(t){for(var e,o,i,a,s,n,l,d=nStringMaker(),r=0;r<t.length;)e=t.charCodeAt(r++),o=t.charCodeAt(r++),i=t.charCodeAt(r++),a=e>>2,s=(3&e)<<4|o>>4,n=(15&o)<<2|i>>6,l=63&i,isNaN(o)?n=l=64:isNaN(i)&&(l=64),d.append(this.keyStr.charAt(a)+this.keyStr.charAt(s)+this.keyStr.charAt(n)+this.keyStr.charAt(l));return d.toString()},this.decode64=function(t){var e,o,i,a,s,n,l,d=nStringMaker(),r=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");r<t.length;)a=this.keyStr.indexOf(t.charAt(r++)),s=this.keyStr.indexOf(t.charAt(r++)),n=this.keyStr.indexOf(t.charAt(r++)),l=this.keyStr.indexOf(t.charAt(r++)),e=a<<2|s>>4,o=(15&s)<<4|n>>2,i=(3&n)<<6|l,d.append(String.fromCharCode(e)),64!=n&&d.append(String.fromCharCode(o)),64!=l&&d.append(String.fromCharCode(i));return d.toString()},this.addToFav=function(t,e){$("#messageFav").show(),$.post(page,{mode:"add_to_fav",type:t,id:e},function(t){t?($("#messageFav").html(t),setTimeout(function(){$("#messageFav").hide()},5e3)):alert("No data")},"text")},this.subscribeToChannel=function(t,e,o){$("#messageFav").show(),$.post(page,{mode:e,subscribe_to:t},function(t){t?($("#messageFav").html(t),setTimeout(function(){$("#messageFav").hide()},5e3)):alert("No data")},"text")},this.debounce=function(t,e,o){var i;return function(){var a=this,s=arguments,n=function(){i=null,o||t.apply(a,s)},l=o&&!i;clearTimeout(i),i=setTimeout(n,e),l&&t.apply(a,s)}}};t._cb=new e,t._cb.setRemoteId()}(window);
