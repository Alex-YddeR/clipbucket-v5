var collectionID,page="/ajax.php",loading_img="<img style='vertical-align:middle' src='"+imageurl+"/ajax-loader.gif'>",loading=loading_img+" Loading...",loading_img_2="<img style='vertical-align:middle' src='"+imageurl+"/ajax-loader-big.gif'>";function Confirm_Delete(a){confirm("Are you sure you want to delete")&&(document.location=a)}function Confirm_Uninstall(a){confirm("Are you sure you want to uninstall this plugin ?")&&(document.location=a)}function confirm_it(a){return!!confirm(a)}function reloadImage(a,b){(img=document.getElementById(b)).src=a+"?"+Math.random()}function load_more(a,b,c,f,g,d,e){$.ajax({beforeSend:function(a){$("#"+c).html("loading")},type:"POST",url:"/ajax.php",data:{limit:a,mode:b,inner_mode:c,cat_id:d,total:e},dataType:"json",success:function(a){a&&($("#"+f).append(a.template),$(g).attr({limit:parseInt(a.count)+parseInt(a.total)})),!0==a.limit_exceeds&&g.css("display","none"),"limit_exceeds"==a&&g.css("display","none"),$("#"+c).html("Laod More...")}})}function randomString(){for(var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",b="",c=0;c<8;c++){var d=Math.floor(Math.random()*a.length);b+=a.substring(d,d+1)}return b}var download=0,total_size=0,cur_speed=0,status_refesh=1,result_page="/actions/file_results.php",download_page="/actions/file_downloader.php",count=0,force_stop=!1,remoteObjID=randomString();function check_remote_url(){$("#remoteUploadBttn").attr("disabled","disabled").hide(),$("#ytUploadBttn").attr("disabled","disabled"),$("#remoteUploadBttnStop").show();var a=$("#remote_file_url").val();if(force_stop=!1,!a||"undefined"==a)return $("#error_msgs").html('<div class="alert alert-danger" role="alert"> Please enter valid remote URL</div>'),$("#remoteUploadBttn").attr("disabled","").show(),$("#remoteUploadBttnStop").attr("disabled","disabled").hide(),!1;var b=getName(a),c=$.ajax({url:download_page,type:"POST",data:{file:a,file_name:b},dataType:"json",beforeSend:function(){status_update(),$("#loading").html('<div style="float:left;display:inline-block;"><img src="'+imageurl+'/ajax-loader.gif"></div><div style="float:left;line-height:16px;padding-left:5px;">'+lang.remoteUploadFile+'</div><div class="clear"></div>'),$("#remoteFileName").replaceWith('"'+b+'"')},success:function(a){a.error&&(force_stop=!0,$("#remoteUploadBttn").attr("disabled",""),$("#ytUploadBttn").attr("disabled",""),alert(a.error)),$("#loading").html("");var b=a.vid;$.post("/actions/file_uploader.php",{getForm:"get_form",title:$("#remote_file_url").val(),objId:remoteObjID,vid:b},function(a){$("#remoteUploadBttnStop").hide(),$("#ytUploadBttn").hide(),$("#remoteForm").append(a),$("#cbSubmitUpload"+remoteObjID).before('<span id="updateVideoDataLoading" style="margin-right:5px"></span>').attr("disabled","").attr("value",lang.saveData).attr("onClick","doUpdateVideo('#uploadForm"+remoteObjID+"','"+remoteObjID+"')").after('<input type="hidden" name="videoid" value="'+b+'" id="videoid" />').after('<input type="hidden" name="updateVideo" value="yes" id="updateVideo" />')},"text")}});$("#remoteUploadBttnStop").click(function(){c.abort(),force_stop=!0,$("#loading").html(""),$("#remoteDownloadStatus").hide(),$(this).hide(),$("#remoteUploadBttn").attr("disabled","").show()})}function youtube_upload(){$("#remoteUploadBttn").attr("disabled","disabled"),$("#ytUploadBttn").attr("disabled","disabled");var a=$("#remote_file_url").val();if(force_stop=!1,!a||"undefined"==a)return"#error_msgs".html('<div class="alert alert-danger" role="alert"> Please enter valid URL</div>'),$("#remoteUploadBttn").button("reset"),$("#ytUploadBttn").button("reset"),force_stop=!0,!1;var b=getName(a);$.ajax({url:download_page,type:"POST",data:{file:a,file_name:b,youtube:"yes"},dataType:"json",beforeSend:function(){$("#loading").html('<div style="float:left; display:inline-block;"><img src="'+imageurl+'/ajax-loader.gif"></div><div style="float:left;line-height:16px;padding-left:5px;">Uploading video from youtube, please wait...</div><div class="clear"></div>')},success:function(a){if("undefined"!=typeof extract_yt_url_ajax&&extract_yt_url_ajax(a),a.error)force_stop=!0,$("#remoteUploadBttn").button("reset"),$("#ytUploadBttn").button("reset"),alert(a.error);else if(a.vid){vid=a.vid,$("#remoteUploadBttn").hide(),$("#ytUploadBttn").hide();var e=$("#updateVideoInfoForm").clone(),b=$(e).clone().get(0),c=document.createElement("div"),d=0;0==d?c.className="tab-pane active uploadFormContainer __theClassHere":c.className="tab-pane uploadFormContainer",$(".__theClassHere").find("#updateVideoInfoForm").remove(),c.id="tab"+d,b.className="",$(b).find("input[name='title']").val(a.title),$(b).find("textarea#desc").val(a.desc),$(b).find("input[name='category[]']:first").attr("checked","checked"),c.appendChild(b),$(c).appendTo("#remote_upload_div"),$(b).find("#saveVideoDetails").removeAttr("disabled"),grabbed_json=a,$(b).on("submit",function(a){a.preventDefault()})}$(document).find(".__theClassHere").find("#saveVideoDetails").attr("id","youtube_update"),$(document).find(".__theClassHere").find("#youtube_update").text("Update Grabbed Video"),$("#loading").html("")}})}var hasLoaded=!1,perc_download=0;function status_update(){var a=$("#remote_file_url").val(),b=getName(a);$.ajax({url:result_page,type:"POST",data:{file_name:b},dataType:"json",success:function(a){if(a){var c=a.total_size,e=a.downloaded,f=a.total_size_fm,g=a.downloaded_fm,b=a.speed_download;a.time_eta;var h=a.time_eta_fm;a.time_took;var i=a.time_took_fm;if(b/1024/1024>1)var d=Math.round(b/1024/1024)+" Mbps";else var d=Math.round(b/1024)+" Kbps";perc_download=Math.round(e/c*100),$("#remoteDownloadStatus").show(),$("#prog_bar").animate({width:perc_download+"%"},1e3),$("#prog_bar").html(perc_download+"%"),$("#dspeed").html(d),$("#eta").html(h),$("#status").html(g+" of "+f)}perc_download<100&&!force_stop?setTimeout(function(){status_update()},1e3*status_refesh):100==perc_download&&c>1&&$("#time_took").html("Time Took : "+i)}})}function upload_file(a,b){$.post("/actions/file_downloader.php",{file_url:a,file_name:b},function(a){a?submit_upload_form():alert("No data")},"text")}function delete_item(a,b,c,d){$("#"+a+"-"+b).click(function(){confirm(c)&&(document.location=d)})}function delete_video(a,b,c,d){return delete_item(a,b,c,d)}function get_video(b,a){$(a).css("display","block"),$(a).html(loading),$(a).html(loading),$.post(page,{mode:b},function(b){$(a).html(b)},"text")}function getAjaxPhoto(b,a){$(a).css("display","block");var c=$(a).html();$.ajax({url:page,type:"POST",dataType:"json",data:{mode:"loadAjaxPhotos",photosType:b},beforeSend:function(){$(a).html(loading)},success:function(b){b.failed&&$(a).html(c),b.completed&&$(a).html(b.photoBlocks)}})}function rating_over(a,b){"disabled"!=b&&$("#rating_result_container").html(a)}function rating_out(a,b){"disabled"!=b&&$("#rating_result_container").html(a)}function submit_share_form(b,a){$("#share_form_results").css("display","block"),$("#share_form_results").html(loading),$.post(page,{mode:"share_object",type:a,users:$("#ShareUsers").val(),message:$("#message").val(),id:$("#objectid").val()},function(a){a?$("#share_form_results").html(a):alert("No data")},"text")}function flag_object(a,b,c){$("#flag_form_result").css("display","block"),$("#flag_form_result").html(loading),$.post(page,{mode:"flag_object",type:c,flag_type:$("#"+a+" select option:selected").val(),id:b},function(a){a?($("#flag_form_result").css("display","block"),$("#flag_form_result").html(a)):alert("No data")},"text")}function slide_up_watch_video(a){"block"!=$(".video_action_result_boxes "+a).css("display")&&$(".video_action_result_boxes > *").slideUp()}function add_to_fav(a,b){$("#video_action_result_cont").css("display","block"),$("#video_action_result_cont").html(loading),$.post(page,{mode:"add_to_fav",type:a,id:b},function(a){a?($("#video_action_result_cont").css("display","block"),$("#video_action_result_cont").html(a)):alert("No data")},"text")}function subscriber(b,c,a){$("#"+a).css("display","block"),$("#"+a).html(loading),$.post(page,{mode:c,subscribe_to:b},function(b){b?($("#"+a).css("display","none"),$("#"+a).html(b),$("#result_cont").html(b),$("#result_cont").show(0).delay(3e3).fadeOut("slow")):alert("No data")},"text")}function add_friend(b,a){$("#"+a).css("display","block"),$("#"+a).html(loading),$.post(page,{mode:"add_friend",uid:b},function(a){a?($("#result_cont").append(a),$("#result_cont").show(0).delay(3e3).fadeOut("slow")):alert("No data")},"text")}function block_user(b,a){$("#"+a).css("display","block"),$("#"+a).html(loading),$.post(page,{mode:"ban_user",user:b},function(b){b?($("#"+a).css("display","block"),$("#"+a).html(b)):alert("No data")},"text")}function rate_comment(a,b,c,d){$.post(page,{mode:"rate_comment",thumb:b,cid:a,type:c,typeid:d},function(b){b?(""!=b.msg&&alert(b.msg),""!=b.rate&&$("#comment_rating_"+a).html(b.rate)):alert("No data")},"json")}function delete_comment(a,b){$.post(page,{mode:"delete_comment",cid:a,type:b},function(b){b?(b.msg&&($(".reply-"+a).fadeOut("slow"),$("#comment_"+a).fadeOut("slow"),$("#comment_msg_output").html(b.msg+" !"),$("#comment_msg_output").fadeIn("slow"),setTimeout(function(){$("#comment_msg_output").fadeOut()},3e3)),b.err&&alert(b.err)):alert("No data")},"json")}function add_playlist(c,a,d,b){switch($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(loading),c){case"add":$.post(page,{mode:"add_playlist",id:a,objtype:b,pid:$("#playlist_id option:selected").val()},function(a){a?(""!=a.err&&($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(a.err)),""!=a.msg&&($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(a.msg),$("#"+d).css("display","none"))):alert("No data")},"json");break;case"new":$.post(page,{mode:"add_new_playlist",id:a,objtype:b,plname:$("#playlist_name").val()},function(a){a?(a.err&&($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(a.err)),a.msg&&($("#playlist_form_result").css("display","block"),$("#playlist_form_result").html(a.msg),$("#"+d).css("display","none"))):alert("No data")},"json")}}function add_quicklist(a,b){$(a).attr("src",imageurl+"/ajax-loader.gif"),$(a).css("background-position","-200px 200px"),set_cookie_secure("btn-q-"+b,"yes"),$.post(page,{mode:"quicklist",todo:"add",vid:b},function(b){b?($(a).attr("src",imageurl+"/dot.gif"),$(a).css("background-position","-0px -0px"),$(a).removeClass("add_icon"),$(a).addClass("check_icon"),$(a).removeAttr("title"),load_quicklist_box()):alert("No data")},"text")}function remove_quicklist(b,a){set_cookie_secure("btn-q-"+a,null),$.post(page,{mode:"quicklist",todo:"remove",vid:a},function(c){c?($(b).slideUp(),$(b).hide(),$(".cb-btn-quick-"+a).addClass("add_icon"),$(".cb-btn-quick-"+a).removeClass("check_icon")):alert("No data")},"text")}function quicklist_videos_check(b){var a=JSON.parse(b.trim());a&&$.each(a,function(){"yes"==$.cookie("btn-q-"+this)&&($(".cb-btn-quick-"+this).removeClass("add_icon"),$(".cb-btn-quick-"+this).addClass("check_icon"))})}function load_quicklist_box(){$.post(page,{mode:"getquicklistbox"},function(a){(a=$.trim(a))?($("#quicklist_box").css("display","block"),$("#quicklist_box").html(a),"hide"!=$.cookie("quick_list_box")?($("#quicklist_cont").css("display","block"),$(".ql_show-hide").html("hide")):$(".ql_show-hide").html("show")):$("#quicklist_box").css("display","none")},"text")}function clear_quicklist(a){$.post(page,{mode:"clear_quicklist"},function(b){load_quicklist_box(),$.each(a,function(){set_cookie_secure("btn-q-"+this,null),$(".cb-btn-quick-"+this).addClass("add_icon"),$(".cb-btn-quick-"+this).removeClass("check_icon")})},"text")}function quick_show_hide_toggle(a){$(a).slideToggle(),"show"==$.cookie("quick_list_box")?(set_cookie_secure("quick_list_box","hide"),$(".ql_show-hide").html("show")):(set_cookie_secure("quick_list_box","show"),$(".ql_show-hide").html("hide"))}function ini_cookies(){$.cookie("quick_list_box")||set_cookie_secure("quick_list_box","show")}function get_group_info(a,b){"none"==$(a).css("display")&&($("#group_info_cont > div").slideUp(),$("#group_info_cont "+a).slideDown(),$(".group_detail_tabs .selected").removeClass("selected"),$(b).addClass("selected"))}var current_menu="";function show_menu(a,b){if(window.location.hash&&b)return show_menu(window.location.hash.substr(9),!1),!1;window.location.hash="current_"+a,current_menu!=a&&hide_menu(),$("#"+a).show(),current_menu=a,$("."+a).addClass("selected")}function hide_menu(){if(""!=current_menu)return $("#"+current_menu).hide(),$("."+current_menu).removeClass("selected"),!0}function to_reply(a){$("#reply_to").val(a),window.location="#reply",$("#reply_to_img").fadeIn(1500),setTimeout(function(){$("#reply_to_img").fadeOut(500)},7e3)}function spam_comment(a,b,c){$.post(page,{mode:"spam_comment",cid:a,type:b,typeid:c},function(b){b?(b.msg&&($("#comment_"+a).hide(),$("#spam_comment_"+a).fadeIn("slow")),b.err&&($("#comment_err_output").fadeIn("slow"),$("#comment_err_output").html(b.err))):alert("No data")},"json")}function reply_box(a){$.ajax({url:page,type:"POST",dataType:"json",data:{mode:"get_reply_box",cid:a},success:function(b){console.log("dfjkdfk"),$(".reply-box-"+a).html(b.form).slideDown("slow"),$("#reply_box_"+a).focus()}})}function remove_reply_box(a){$(".reply-box-"+a).slideUp("slow")}function show_replies(a){$(".more-comments-"+a).show()}function swap_auto_play(){"true"==$.cookie("auto_play_playlist")?(set_cookie_secure("auto_play_playlist","false"),window.location=document.location,$("#ap_status").html("off")):(set_cookie_secure("auto_play_playlist","true"),window.location=document.location,$("#ap_status").html("on"))}function collection_actions(b,a,c,d,e,f){switch($(d).css("display","block"),$(d).html(loading),a){case"add_new_item":$.post(page,{mode:a,cid:$("#"+b+" #collection").val(),obj_id:c,type:e},function(a){a?(a.msg&&$(d).html(a.msg),a.err&&$(d).html(a.err)):alert("No Data returned")},"json");break;case"remove_collection_item":$("#"+b).hide(),$.post(page,{mode:a,obj_id:c,type:e,cid:f},function(a){a?(a.err&&(alert(a.err),$(d+"_"+c).hide(),$("#"+b+c).show()),a.msg&&($(d).html(a.msg),$("#"+b+"_"+c).slideUp(350))):(alert("No Data Returned"),$(d+"_"+c).hide(),$("#"+b).show())},"json")}}function openURL(a){document.location=a}function get_item(a,b,c,d,e){var f=$(a).html();$(a).html(loading),$.post(page,{mode:"get_item",ci_id:b,cid:c,type:d,direction:e},function(b){if(b){var c=new Array(d,b.cid,b.key);construct_url(c),$("#collectionItemView").html(b.content)}else alert("No "+d+" returned"),$(a).text(f)},"json")}function construct_url(a){var b;"yes"==Seo?(b="#!/item/"+a[0]+"/"+a[1]+"/"+a[2],window.location.hash=b):(b="#!?item="+a[2]+"&type="+a[0]+"&collection="+a[1],window.location.hash=b)}function onReload_item(){var a,b;window.location.hash&&(a=window.location.href,"yes"==Seo?(b=RegExp("/item.+#!")).test(a)&&(a=a.replace(b,""),window.location.href=a):(b=RegExp("\\?item.+#!")).test(a)&&(a=a.replace(b,""),window.location.href=a))}function pagination(c,d,e,f){var a=$(c),b=(a.id,a.parent()),g=a.html();b.attr("id")?parent.attr("id"):(b.attr("id","loadMoreParent"),b.attr("id")),newCall=$.ajax({url:page,type:"post",dataType:"json",data:{mode:"moreItems",page:f,cid:d,type:e},beforeSend:function(){a.removeAttr("onClick"),a.html(loading)},success:function(b){b.error?("BUTTON"==c.tagName&&a.attr("disabled","disabled"),a.removeAttr("onClick"),a.html("No more "+e)):($("#collectionItemsList").append(b.content),$("#NewPagination").html(b.pagination),a.html(g))}})}function ajax_add_collection(a){var b=$("#"+a.form.id),c=$(a),d=c.html(),e=$("#CollectionResult");$.ajax({url:page,type:"post",dataType:"json",data:"mode=add_collection&"+b.serialize(),beforeSend:function(){"block"==e.css("display")&&e.slideUp("fast"),c.attr("disabled","disabled"),c.html(loading)},success:function(a){a.msg?($("#CollectionDIV").slideUp("fast"),e.html(a.msg).slideDown("fast"),collectionID=a.id):(e.html(a.err).slideDown("fast"),c.removeAttr("disabled"),c.html(d))}})}function getDetails(b){var a=getInputs(b),c=new Array(a.length);return $.each(a,function(a,b){query=$("#"+b.id+" *").serialize(),query+="&mode=ajaxPhotos",c[a]=query}),c}function getName(b){var a=b;return a.substring(a.lastIndexOf("/")+1)}function viewRatings(a,b){var c=$(a),d=c.html();document.getElementById("RatingStatContainer")?$("#RatingStatContainer").toggle():loadAjax=$.ajax({url:page,type:"post",dataType:"text",data:{mode:"viewPhotoRating",photoid:b},beforeSend:function(){c.html(loading)},success:function(a){c.html(d),a?$("<div />").attr("id","RatingStatContainer").addClass("clearfix").css({padding:"8px",font:"normal 11px Tahoma",border:"1px solid #ccc",backgroundColor:"#FFF"}).html(a).fadeIn(350).insertAfter(c):(c.removeAttr("onclick"),alert("Photo has not recieved any rating yet."))}})}function showAdvanceSearch(b,c,d,e){var f=$("#"+b),a=$("#"+c),g=$("#SearchType").val();f.toggle(),a.toggle(),"block"==a.css("display")&&a.children().hide().filter("#"+g).show(),$("."+d).toggleClass(e)}function toggleCategory(c,d){var a=$(c),b=a.next();b.is(":visible")?(b.slideUp(350),a.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")):(b.slideDown(350),a.removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"))}function loadObject(b,c,d,e){var a=new Array(4);a.this=b,a.type=c,a.objID=d,a.container=e;var f=$(a.this);f.parent().css("position","relative"),$.ajax({url:page,type:"POST",dataType:"json",data:{mode:"channelFeatured",contentType:a.type,objID:a.objID},beforeSend:function(){f.find("img").animate({opacity:.5}),$("#"+a.container).animate({opacity:.5})},success:function(b){b.error?(f.find("img").animate({opacity:1}),$("#"+a.container).animate({opacity:1}),alert(b.error)):(f.parent().children(".selected").removeClass("selected"),f.addClass("selected"),f.find("img").animate({opacity:1}),$("#"+a.container).html(b.data),$("#"+a.container).animate({opacity:1}))}})}var comments_voting="no";function getComments(a,b,c,d,e,f,g){$("#comments").html("<div style='padding:5px 0px;'>"+loading+"</div>"),$.ajax({type:"POST",url:page,data:{mode:"getComments",page:d,type:a,type_id:b,object_type:f,last_update:c,total_comments:e,comments_voting:comments_voting,admin:g},success:function(a){$("#comments").hide(),$("#comments").html(a),$("#comments").fadeIn("slow")},dataType:"text"})}function getAllComments(a,b,c,d,e,f,g){$("#userCommentsList").html("<div style='padding:5px 0px;'>"+loading+"</div>"),$.ajax({type:"POST",url:page,data:{mode:"getComments",page:d,type:a,type_id:b,object_type:f,last_update:c,total_comments:e,comments_voting:comments_voting,admin:g},success:function(a){$("#userCommentsList").html(a)},dataType:"text"})}function checkUncheckAll(c){var b=c.form,a=0;for(a=0;a<b.length;a++)"checkbox"==b[a].type&&"checkall"!=b[a].name&&(b[a].checked=c.checked)}function rate(a,b,c){$.post("/ajax.php",{mode:"rating",id:a,rating:b,type:c},function(a){a?$("#rating_container").html(a):alert("No data")},"text")}function setPageHash(a){var b=a.replace(baseurl,"");window.location.hash="#!"+b}function callURLParser(){var b,a=window.location.href.match(/(\#![/a-zA-Z0-9=\.\&\-\_\?]*)/g);a&&(b=a[a.length-1])&&(window.location.href=b.replace("#!",""))}var loading_new="<img style='vertical-align:middle' src='"+imageurl+"/view_group.gif' height='22'>";function groupsAjax(e,a,c){e.preventDefault();var b,f,d=!1;if(void 0==c&&(c="ajaxGroupResultContainer"),a.href?(b=a.href,d=!0,jqueryObj=$(a),javaObj=a):(b=a.childNodes[0].href,jqueryObj=$(a.childNodes[0]),javaObj=a.childNodes[0]),"undefined"==b)return alert("URL not found"),!1;f=jqueryObj.html(),setPageHash(b),!0==d?(jqueryObj.parent().parent().children().filter(".selected").removeClass("selected"),jqueryObj.parent().addClass("selected")):(jqueryObj.parent().children().filter(".selected").removeClass("selected"),jqueryObj.addClass("selected")),jqueryObj.html(loading_new),$("#"+c).on("load",b+" #"+c,function(a,b,c){jqueryObj.html(f),document.getElementById("flag_item")&&$("#flag_item").show()})}var ua=navigator.userAgent.toLowerCase();if(ua.indexOf(" chrome/")>=0||ua.indexOf(" firefox/")>=0||ua.indexOf(" gecko/")>=0)var StringMaker=function(){this.str="",this.length=0,this.append=function(a){this.str+=a,this.length+=a.length},this.prepend=function(a){this.str=a+this.str,this.length+=a.length},this.toString=function(){return this.str}};else var StringMaker=function(){this.parts=[],this.length=0,this.append=function(a){this.parts.push(a),this.length+=a.length},this.prepend=function(a){this.parts.unshift(a),this.length+=a.length},this.toString=function(){return this.parts.join("")}};var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encode64(a){for(var f,b,c,h,i,g,d,j=new StringMaker,e=0;e<a.length;)f=a.charCodeAt(e++),b=a.charCodeAt(e++),c=a.charCodeAt(e++),h=f>>2,i=(3&f)<<4|b>>4,g=(15&b)<<2|c>>6,d=63&c,isNaN(b)?g=d=64:isNaN(c)&&(d=64),j.append(keyStr.charAt(h)+keyStr.charAt(i)+keyStr.charAt(g)+keyStr.charAt(d));return j.toString()}function decode64(a){var g,h,i,j,e,c,f,d=new StringMaker,b=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");b<a.length;)j=keyStr.indexOf(a.charAt(b++)),e=keyStr.indexOf(a.charAt(b++)),c=keyStr.indexOf(a.charAt(b++)),f=keyStr.indexOf(a.charAt(b++)),g=j<<2|e>>4,h=(15&e)<<4|c>>2,i=(3&c)<<6|f,d.append(String.fromCharCode(g)),64!=c&&d.append(String.fromCharCode(h)),64!=f&&d.append(String.fromCharCode(i));return d.toString()}function add_comment_js(a,c){$("#add_comment_result").css("display","block"),$("#add_comment_button").val(lang_loading),$("#add_comment_button").attr("disabled",!0),$(".add-reply").attr("disabled",!0);var b=$("#"+a).serialize()+"&mode=add_comment";$.post(page,b,function(a){a?($("#add_comment_result").css("display","block"),""!=a.err&&null!=a.err&&($("#comment_err_output").fadeIn(),$("#comment_err_output").html(a.err),setTimeout(function(){$("#comment_err_output").fadeOut()},1e4),"Mailer Error"!=a.err.substring(0,12)&&clear_comment_form()),""!=a.msg&&$("#comment_box").val(""),a.cid&&($(".no-comments").remove(),get_the_comment(a.cid,a.type_id,"#comments-ul"))):alert("No data")},"json")}function get_the_comment(a,b,c){$.post(page,{mode:"get_comment",cid:a,type_id:b},function(b){b?b.parent_id?($(".reply-box-"+b.parent_id).hide(),$(".comments-reply-"+b.parent_id).append(b.li_data).slideDown(),$("html, body").animate({scrollTop:$("#reply-"+a).offset().top},1e3),comment_transition(".reply-",a)):$(b.li_data).hide().prependTo("#comments-ul").slideDown("slow"):alert("No data"),clear_comment_form()},"json")}function reply_box(b,c,d){var e=$(document).find("#says_"+b).attr("speaker"),a='<form name="reply_form" method="post" id="reply_form_'+b+'" onsubmit="return false;">';a+='<input type="hidden" name="reply_to" id="reply_to" value="'+b+'">',a+='<input type="hidden" name="obj_id" id="obj_id" value="'+d+'">',a+='<input type="hidden" name="type" value="'+c+'" />',a+='<div class="textarea-comment clearfix">',a+='<textarea name="comment" id="reply_box_'+b+'" class="form-control" placeholder="'+lang_reply_to+" "+e+'..."></textarea>',a+='<i class="remove-'+b+' remove-icon" onclick="remove_reply_box('+b+')">',a+='<span style="color:#006dcc;cursor:pointer">',a+='<strong class="icon-close" ></strong>',a+="</span>",a+="</i>",a+="</div>",a+='<input type="button" name="add_reply" id="add_reply_button_'+b+'" class="btn btn-primary pull-right add-reply" onclick="add_comment_js(\'reply_form_'+b+"','"+c+'\')" value="'+lang_reply+'">',a+="</form>",$(".reply-box-"+b).html(a).slideDown("slow"),$("#reply_box_"+b).focus()}function remove_reply_box(a){$(".reply-box-"+a).slideUp("slow")}function show_replies(a){$(".more-comments-"+a).show()}function comment_transition(a,b){$(a+b).addClass("border-transition"),setTimeout(function(){$(a+b).removeClass("border-transition")},3e3)}function clear_comment_form(){$("#add_comment_button").val(lang_add_comment),$("#add_comment_button").attr("disabled",!1),$(".add-reply").attr("disabled",!1)}function isValidEmail(a){return!!a.match(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/)&&a}function set_cookie_secure(a,b){"https:"!==location.protocol?document.cookie=a+"="+b+";path=/;samesite=strict;":document.cookie=a+"="+b+";secure;path=/;samesite=strict;"}